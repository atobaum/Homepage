function format_authors(a){var t="";for(var e in a){var r=a[e];switch(t+='<a href="/bookshelf/person/'+r.id+'">'+r.name+"</a>",r.type){case"author":t+=" 지음, ";break;case"translator":t+=" 번역, ";break;case"supervisor":t+=" 감수, ";break;case"illustrator":t+=" 그림, ";break;case"photo":t+=" 사진, "}}return t=t.substring(0,t.length-2)}function addReadingToTable(a){var t=a.book,e="";e+="<tr>",a.book?(e+='<td><a href="/bookshelf/book/'+t.isbn13+'">'+t.title_ko+"</a></td>",e+="<td>"+format_authors(t.authors)+"</td>"):(e+="<td>(책 정보 없음: "+a.book_id+') <a href="/bookshelf/book/'+a.book_id+'">추가</a></td>',e+="<td>책 정보 없음</td>"),e+='<td><a href="/bookshelf/reading/'+a.id+'">'+a.date_started+"</a></td>",e+="<td>"+a.date_finished+"</td>",e+="<td>"+a.user+"</td>",e+="</tr>",$("#tbdReadings").append(e)}$(document).ready(function(){$.ajax({type:"get",url:"/bookshelf/api/recentReading",success:function(a){if(0===a.ok)return void alert("오류 발생. 관리자에게 문의하세요.");var t=a.result;for(var e in t)addReadingToTable(t[e])},error:function(){alert("error")}})});